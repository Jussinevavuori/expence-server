# Migration `20210123124455-category-icon-user-is-admin`

This migration has been generated by Jussi at 1/23/2021, 2:44:55 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "categories" DROP COLUMN "income_icon",
DROP COLUMN "expense_icon",
ADD COLUMN     "icon" TEXT

ALTER TABLE "users" ADD COLUMN     "isAdmin" BOOLEAN NOT NULL DEFAULT false
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210118175805-no-null-category..20210123124455-category-icon-user-is-admin
--- datamodel.dml
+++ datamodel.dml
@@ -3,19 +3,19 @@
 }
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Transaction {
-  id            String    @id @default(uuid())
+  id            String   @id @default(uuid())
   uid           String
   categoryId    String   @map("category_id")
-  integerAmount Int       @map("integer_amount")
+  integerAmount Int      @map("integer_amount")
   time          DateTime
   comment       String?
-  user          User      @relation(fields: [uid], references: [id])
+  user          User     @relation(fields: [uid], references: [id])
   category      Category @relation(fields: [categoryId], references: [id])
   @@map(name: "transactions")
 }
@@ -29,21 +29,21 @@
   googleId      String? @unique @map("google_id")
   photoUrl      String? @map("photo_url")
   tokenVersion  Int     @default(1) @map("token_version")
   disabled      Boolean @default(false)
+  isAdmin       Boolean @default(false)
   transactions Transaction[]
   categories   Category[]
   @@map(name: "users")
 }
 model Category {
-  id          String @id @default(uuid())
-  uid         String
-  value       String @unique
-  incomeIcon  String @default("ðŸ’°") @map("income_icon")
-  expenseIcon String @default("ðŸ’¸") @map("expense_icon")
-  user        User   @relation(fields: [uid], references: [id])
+  id    String  @id @default(uuid())
+  uid   String
+  value String  @unique
+  icon  String? @map("icon")
+  user  User    @relation(fields: [uid], references: [id])
   Transaction Transaction[]
   @@map(name: "categories")
 }
```


