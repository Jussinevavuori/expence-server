# Migration `20210206134437-category-uid-value-unique-constraint`

This migration has been generated by Jussi at 2/6/2021, 3:44:37 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE UNIQUE INDEX "Category_uid_value_unique_constraint" ON "categories"("uid", "value")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210206133241-remove-category-value-unique-constraint..20210206134437-category-uid-value-unique-constraint
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Transaction {
   id            String   @id @default(uuid())
@@ -44,6 +44,7 @@
   icon  String? @map("icon")
   user  User    @relation(fields: [uid], references: [id])
   Transaction Transaction[]
+  @@unique([uid, value], name: "Category_uid_value_unique_constraint")
   @@map(name: "categories")
 }
```


