# Migration `20210315114915-add_category_unique_uid_id`

This migration has been generated by Jussi at 3/15/2021, 1:49:15 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE UNIQUE INDEX "unique_uid_id" ON "categories"("uid", "id")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210315111359-remove-budget-type..20210315114915-add_category_unique_uid_id
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Transaction {
   id            String   @id @default(uuid())
@@ -46,14 +46,14 @@
   @@map(name: "users")
 }
 model Budget {
-  id            String     @id @default(uuid())
+  id            String   @id @default(uuid())
   uid           String
   label         String?
-  integerAmount Int        @map("integer_amount")
-  createdAt     DateTime   @default(now()) @map("created_at")
-  updatedAt     DateTime   @default(now()) @updatedAt @map("updated_at")
+  integerAmount Int      @map("integer_amount")
+  createdAt     DateTime @default(now()) @map("created_at")
+  updatedAt     DateTime @default(now()) @updatedAt @map("updated_at")
   Categories Category[]
   User User @relation(fields: [uid], references: [id])
@@ -74,6 +74,7 @@
   User User @relation(fields: [uid], references: [id])
   @@unique([uid, value], name: "unique_uid_value")
+  @@unique([uid, id], name: "unique_uid_id")
   @@map(name: "categories")
 }
```


